<div class="p-p-2">
  <div class="p-d-flex p-jc-between">
    <div>
      <span class="p-float-label">
        <p-dropdown id="videosources" [options]="videoSources$|async" optionLabel="label" optionValue="deviceId"
          (onChange)="setVideoSource($event)"></p-dropdown>
        <label for="videosources">Video source</label>
      </span>
    </div>
    <!-- </div> -->
    <!-- <div>
      <span class="p-float-label">
        <p-dropdown id="audiosources" [options]="audioSources$|async" optionLabel="label" optionValue="deviceId"
          (onChange)="setAudioSource($event)"></p-dropdown>
        <label for="audiosources">Audio source</label>
      </span>
    </div> -->
    <div [formGroup]="microphonesForm">
      <div formArrayName="microphones">
        <div *ngFor="let mic of getMicrophones(); let i=index" [ngClass]="{'p-mt-4': i>0}">
          <div>{{mics[i]}}</div>
          <p-slider [formControlName]="i" [min]="0" [max]="100" class="p-mt-4"></p-slider>
        </div>
      </div>
    </div>

  </div>
  <div [formGroup]="streamingForm">
    <div class="p-d-flex p-jc-between p-mt-4">
      <p-checkbox label="Stream to YouTube" formControlName="youtube" binary="true" [style.margin]="0">
      </p-checkbox>
      <span class="p-float-label">
        <input id="ytKey" type="text" pInputText formControlName="ytKey">
        <label for="ytKey">Stream key</label>
      </span>
    </div>
    <div class="p-d-flex p-jc-between p-mt-4">
      <p-checkbox label="Save video locally" formControlName="saveLocal" binary="true" [style.margin]="0">
      </p-checkbox>
      <button pButton [disabled]="!isStreamingButtonEnabled()" icon="pi pi-play" class="p-button-success" label="Stream"
        (click)="stream()" *ngIf="!streaming"></button>
      <button pButton icon="pi pi-stop" class="p-button-danger" label="Stop streaming" (click)="stopStreaming()"
        *ngIf="streaming"></button>
    </div>
  </div>

</div>
